<!DOCTYPE html>
<!-- saved from url=(0061)http://fecore.net.ua/javascript/pages/theory/module-09-1.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Module 9</title><link rel="stylesheet" href="./Module 9_files/styles.min.css"><script async="" src="./Module 9_files/ei.js.Без названия"></script><script async="" src="./Module 9_files/scripts.min.js.Без названия"></script></head><body class="theory-page"><div class="wrapper"><article><header><nav class="table-of-contents" id="main-nav"><ol class="page-nav" id="page-nav"><li><a href="http://fecore.net.ua/javascript/pages/theory/module-09-1.html#async">Асинхронный JavaScript</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-09-1.html#async-fn">setTimeout и setInterval</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-09-1.html#date-obj">Объект Date</a></li></ol></nav></header><section><h2 id="async">Асинхронный JavaScript</h2><p>В JavaScript нам часто приходится иметь дело с асинхронным поведением, которое может смущать новичков, у которых есть опыт работы с синхронным кодом. В этом модуле объясняется, что такое асинхронный код, некоторые из трудностей использования асинхронного кода и способы решения этих трудностей.</p><h3>Синхронный код</h3><p>В синхронных программах, если у вас есть две строки кода: <code>L1</code>, за которым следует <code>L2</code>, <code>L2</code> не может начать выполнение до тех пор, пока <code>L1</code> не завершит выполнение.</p><p>Представте если бы вы были в очереди, ожидая покупки билетов на поезд. Вы не можете начать покупать билет на поезд до тех пор, пока все люди перед вами не закончат покупать их. Точно так же люди, стоящие за вами, не могут начать покупать билеты до тех пор, пока вы не купите их.</p><p>Следующий код является синхронным, инструкции обрабатываются последовательно.</p><pre class=" language-javascript"><code class=" language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'First'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Second'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Third'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3>Асинхронный код</h3><p>В асинхронных программах вы можете иметь две строки кода: <code>L1</code>, за которой следует <code>L2</code>, где <code>L1</code> планирует выполнение какой-либо задачи в будущем, но <code>L2</code> работает до завершения этой задачи.</p><p>Представте как будто вы едите в ресторане. Другие люди заказывают еду. Вы также можете заказать еду. Вам не нужно ждать, пока они получат еду и закончат есть, прежде чем заказывать. Точно так же другие люди не должны ждать, пока вы получите свою еду и не поедите, прежде чем они смогут заказать. Каждый получит свою пищу, как только ее закончат готовить.</p><p>Следующий код является асинхронным. С функцией <code>setTimeout</code> мы познакомимся дальше. Сейчас о ней нам нужно знать только то, что она принимает 2 аргумента, callback-функцию которая будет вызвана по истечении времени которое мы передаем вторым аргументом.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// выполнится первым</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'First'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// выполнится третим спустя 2 секунды</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Second'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// выполнится вторым</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Third'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="note"><p>Итак, синхронный код выполняется в последовательности - каждый оператор ожидает, пока предыдущий оператор завершит работу, перед выполнением. Асинхронный код выполняется не дожидаясь выполнения предыдущих операций.</p></div></section><section><h2 id="async-fn">setTimeout и setInterval</h2><p>Почти все реализации JavaScript имеют внутренний таймер-планировщик, который позволяет задавать вызов функции через определенный период времени. Для этого есть функции <code>setTimeout</code> и <code>setInterval</code>.</p><p>Таймауты и интервалы позволяют вам контролировать, когда и как часто вызывается функция. Они похожи, их можно запустить и остановить, но их функциональность немного отличается.</p><h3>setTimeout и clearTimeout</h3><p>Таймаут позволяет запускать функцию по прошествии определенного времени. Принимает два аргумента, callback-функцию и время задержки в миллисекундах, по завершению которого один раз будет вызвана callback-функция. Возвращает цифровой идентификатор созданного таймера, это необходимо для возможность его удаления.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> timerId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><table><tbody><tr><th>Составляющая</th><th>Описание</th></tr><tr><td><code>timerId</code></td><td>переменная в которую будет записан числовой идентификатор, может быть использован позже с <code>clearTimeout</code> для остановки.</td></tr><tr><td><code>callback</code></td><td>это функция, которую требуется вызвать после <code>delay</code> миллисекунд.</td></tr><tr><td><code>delay</code></td><td>задержка в миллисекундах, после которой будет выполнен вызов функции. Реальная задержка может быть больше.</td></tr></tbody></table><div class="cp_embed_wrapper"><iframe id="cp_embed_eGmxbV" src="./Module 9_files/eGmxbV.html" scrolling="no" frameborder="0" height="300" allowtransparency="true" allowfullscreen="true" allowpaymentrequest="true" name="CodePen Embed" title="module-10-setTimeout" class="cp_embed_iframe " style="width: 100%; overflow: hidden;"></iframe></div><p>Если нам по какой-то причине нужно отменить вызов функции внутри таймаута, используется функция <code>clearTimeout(id)</code>, которая получает идентификатор ( <code>id</code>) таймера и очищает (удаляет) его.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-function">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Hello!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-const">const</span> timerId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>sayHello<span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">clearTimeout</span><span class="token punctuation">(</span>timerId<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Поскольку мы использовали <code>clearTimeout</code>, а он исполнится раньше, таймер с <code>timerId</code> будет очищен и станет не активен. Он будет действовать так, как будто он никогда не существовал, и поэтому в консоль ничего не выведется.</p><h3>setInterval и clearInterval</h3><p><strong>Интервалы</strong> - это более простой способ повторения кода снова и снова, с установленным промежутком времени повторений.</p><p>Функция <code>setInterval</code> имеет синтаксис, аналогичный <code>setTimeout</code>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> timerId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Смысл аргументов – тот же самый. Но, в отличие от <code>setTimeout</code>, она запускает выполнение функции не один раз, а регулярно повторяет её через указанный интервал времени ( <code>delay</code>). Остановить исполнение можно вызовом <code>clearInterval(id)</code>.</p><div class="cp_embed_wrapper"><iframe id="cp_embed_EwaMZM" src="./Module 9_files/EwaMZM.html" scrolling="no" frameborder="0" height="400" allowtransparency="true" allowfullscreen="true" allowpaymentrequest="true" name="CodePen Embed" title="module-10-setInterval" class="cp_embed_iframe " style="width: 100%; overflow: hidden;"></iframe></div><h3>this внутри функций-интервалов</h3><p>Функции <code>setTimemout/setInterval</code> на самом деле не "функции", а методы объекта <code>window</code>. Но так как они в глобальном объекте, мы не записываем их как <code>window.setTimeout</code>.</p><p>Именно поэтому надо быть внимательными с <code>this</code> внутри функий-интервалов. При классической функции-колбеке <code>this = window</code>, а при стрелочной функции-колбеке <code>this</code> будет из внешней области видимости.</p><div class="cp_embed_wrapper"><iframe id="cp_embed_QqbaNZ" src="./Module 9_files/QqbaNZ.html" scrolling="no" frameborder="0" height="400" allowtransparency="true" allowfullscreen="true" allowpaymentrequest="true" name="CodePen Embed" title="module-10-this" class="cp_embed_iframe " style="width: 100%; overflow: hidden;"></iframe></div><h4>Реальная частота срабатывания счетчика</h4><p>У браузерного таймера есть минимальная возможная задержка. Она меняется от примерно <strong>0</strong> до <strong>4мс</strong> в современных браузерах. В более старых она может быть больше и достигать <strong>15мс</strong>. По стандарту, минимальная задержка составляет <strong>4мс</strong>. Так что нет разницы между <code>setTimeout(..., 1)</code> и <code>setTimeout(..., 4)</code>.</p><p>В ряде ситуаций таймер будет срабатывать реже, чем обычно. Задержка между вызовами <code>setInterval(..., 4)</code> может быть не 4мс, а 30мс или даже 1000мс.</p><p>Большинство браузеров (десктопных в первую очередь) продолжают выполнять <code>setTimeout/setInterval</code>, даже если вкладка неактивна. При этом ряд из них снижают минимальную частоту таймера, до 1 раза в секунду. Получается, что в «фоновой» вкладке будет срабатывать таймер, но редко.</p><p>При слишком большой загрузке процессора, JavaScript может не успевать обрабатывать таймеры вовремя. При этом некоторые запуски <code>setInterval</code> будут пропущены.</p></section><section><h2 id="date-obj">Объект Date</h2><p>Работа с промежутками времени это одна из наиболее популярных задач программирования, после работы с математическими функциями. JavaScript предоставляет полезный объект <code>Date</code>, который абстрагирует большую часть работы с датами напрямую. Это позволяет нам представлять моменты во времени и манипулировать ими всего несколькими строками кода.</p><h3>Создание даты</h3><p>Создание даты очень просто. Просто создайте новый экземпляр <code>Date</code>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-let">let</span> date <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Mon Mar 19 2018 16:51:32 GMT+0200 (FLE Standard Time)</span></code></pre><p>Поскольку не были переданы аргументы, JavaScript просто вернет текущую дату и время. Тем не менее, вы можете дополнительно передать строку или число в <code>Date</code>, и результатом будет другая дата и время.</p><h4>Datestring</h4><p>Если вы передадите строку, она будет обработана методом <code>Date.parse</code>, чтобы вернуть объект <code>Date</code>.</p><p>Скажем, вместо сегодняшнего дня вы хотели создать дату с <strong>4 марта 2017 года</strong>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-let">let</span> date <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"March 4, 2017"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Sat Mar 04 2017 00:00:00 GMT+0200 (FLE Standard Time)</span></code></pre><h4>7 аргументов</h4><p>Другой способ создания новых объектов <code>Date</code> - это передать <strong>7 чисел</strong>. Эти цифры представляют собой год, месяц, день, час, минуту, секунду и миллисекунду. Последние 4 аргумента являются необязательными.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> date<span class="token punctuation">,</span> hours<span class="token punctuation">,</span> minutes<span class="token punctuation">,</span> seconds<span class="token punctuation">,</span> ms<span class="token punctuation">)</span></code></pre><p>Индексы месяцев начинаются с <strong>0</strong>, поэтому 5-й месяц это июль.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-let">let</span> date <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Thu Jun 08 2000 12:00:00 GMT+0300 (FLE Daylight Time)</span></code></pre><h3>Unix время</h3><p>В области информатики существует концепция <strong>эпохи Unix</strong>. Этот момент времени установлен на полночь <strong>1 января 1970 года в часовом поясе UTC</strong>.</p><p>С учетом этой системы отсчета, если вы передаете число объекту <code>Date</code>, это число представляет собой количество миллисекунд, прошедших с тех пор.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-let">let</span> date <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Thu Jan 01 1970 02:16:40 GMT+0200 (FLE Standard Time)</span></code></pre><p>Чтобы увидеть число милисекунд от этой даты до текущего момента, используется статический метод <code>Date.now()</code>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-let">let</span> date <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1521471595501</span></code></pre><p>Удобство этого формата заключается в том, что вы можете представлять точные моменты времени в виде одного числа и не беспокоиться о датах и строках и часовых поясах, так как вы можете получить всю необходимую информацию, когда захотите.</p><h3>Методы объекта Date</h3><p>Объект <code>Date</code> имеет множество методов как для получения значений даты и времени, так и для установки значений в объект. Методы объекта <code>Date</code> возвращают или присваивают год, месяц, день месяца или недели, час, минуту, секунду и милисекунду для каждого <code>new Date</code>. Эти данные могут быть представлены в виде строки с учетом местного календаря или языка.</p><h4>Геттеры</h4><p>Вот все методы получения информации из объекта <code>Date</code>:</p><ul><li><code>getDate()</code> - возвращает день месяца от 1 до 31</li><li><code>getDay()</code> - возвращает день недели от 0 до 6</li><li><code>getMonth()</code> - возвращает месяц от 0 до 11</li><li><code>getFullYear()</code> - возвращает год из 4 цифр</li><li><code>getHours()</code> - возвращает час</li><li><code>getMinutes()</code> - возвращает минуты</li><li><code>getSeconds()</code> - возвращает секунды</li><li><code>getMilliseconds()</code> - возвращает миллисекунды</li><li><code>getTime()</code> - возвращает кол-во миллисекунд прошедших со старта <strong>эпохи Unix</strong></li><li><code>getTimezoneOffset()</code> - возвращает разницу между местным и UTC-временем, в минутах</li></ul><p>Поэкспериментируйте с этими методами используя текущее времени, начните с кода ниже:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-let">let</span> date <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Date: "</span> <span class="token operator">+</span> date<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"getDate(): "</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"getDay(): "</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"getMonth(): "</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"getFullYear(): "</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"getHours(): "</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"getMinutes(): "</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"getSeconds(): "</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"getMilliseconds(): "</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"getTime(): "</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Давайте поэкспериментируем:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-let">let</span> date <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// проверим количество мс с с начала эпохи Unix</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  <span class="token template-string"><span class="token string">`Время в мс с начала эпохи Unix: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// "Время в мс с начала эпохи Unix: ....  значения будут меняться :-)</span>
<span class="token comment">// "Время в мс с начала эпохи Unix: 1504721892483"</span>

<span class="token keyword keyword-let">let</span> result <span class="token operator">=</span> <span class="token string">'Date: '</span><span class="token punctuation">;</span>
result <span class="token operator">+=</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/'</span><span class="token punctuation">;</span> <span class="token comment">// год</span>
result <span class="token operator">+=</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/'</span><span class="token punctuation">;</span> <span class="token comment">// месяц, начиная с 0</span>
result <span class="token operator">+=</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'. Day of the week: '</span><span class="token punctuation">;</span> <span class="token comment">// день недели, начиная с 1</span>
result <span class="token operator">+=</span> date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.'</span><span class="token punctuation">;</span> <span class="token comment">// день , начиная с 0</span>

result <span class="token operator">+=</span> <span class="token string">' Time: '</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">':'</span><span class="token punctuation">;</span> <span class="token comment">// часы</span>
result <span class="token operator">+=</span>  date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">':'</span><span class="token punctuation">;</span> <span class="token comment">// минуты</span>
result <span class="token operator">+=</span>  date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">':'</span><span class="token punctuation">;</span> <span class="token comment">// секунды</span>
result <span class="token operator">+=</span>  date<span class="token punctuation">.</span><span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">// милисекунды</span>

<span class="token comment">// строка должна показать текущее время и дату</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//  ....  значения будут менятся :-)</span>
<span class="token comment">// "Date: 2017/8/6. Day of week: 3. Time: 21:18:12:483"</span></code></pre><h4>Сеттеры</h4><p>Вот все методы записи информации в объект <code>Date</code>:</p><ul><li><code>setDate()</code> - устанавливает день месяца</li><li><code>setDay()</code> - устанавливает день недели</li><li><code>setMonth()</code> - устанавливает месяц</li><li><code>setFullYear()</code> - устанавливает год</li><li><code>setHours()</code> - устанавливает час</li><li><code>setMinutes()</code> - устанавливает минуты</li><li><code>setSeconds()</code> - устанавливает секунды</li><li><code>setMilliseconds()</code> - устанавливает миллисекунды</li><li><code>setTime()</code> - устанавливает кол-во миллисекунд c начала <strong>эпохи Unix</strong></li></ul><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">/* Для установки даты существует 2 способа.
  Установим 1500000000000 мск с начала эры Unix
  с помощью конструктора
*/</span>
<span class="token keyword keyword-let">let</span> date <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// проверим</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  <span class="token template-string"><span class="token string">`Дате 2017, 6, 14, 5, 40 соответствует </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// "Дате 2017, 6, 14, 5, 40 соответствует 1500000000000"</span>

<span class="token comment">/* с помощью методов set */</span>
<span class="token comment">// создадим новый объект с текущей датой</span>
<span class="token keyword keyword-let">let</span> secondDate <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// изменим год и в нем же месяц и день месяца</span>
secondDate<span class="token punctuation">.</span><span class="token function">setFullYear</span><span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// изменим час и в нем же минуты, секунды и милисекунды</span>
secondDate<span class="token punctuation">.</span><span class="token function">setHours</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// проверим</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  <span class="token template-string"><span class="token string">`Set: дате 2017, 6, 14, 5, 40 соответствует </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>secondDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// "Set: дате 2017, 6, 14, 5, 40 соотвествует 1500000000000"</span></code></pre><h3>Форматирование и вывод дат</h3><p>Во всех браузерах, кроме IE10-, поддерживается новый стандарт, который добавляет специальные методы для форматирования дат.</p><p>Это делается вызовом <code>date.toLocaleString(locale, opts)</code>, в котором можно задать много настроек. Он позволяет указать, какие параметры даты нужно вывести, и ряд настроек вывода, после чего интерпретатор сам сформирует строку.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-let">let</span> date <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// формат вывода</span>
<span class="token keyword keyword-const">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  weekday<span class="token punctuation">:</span> <span class="token string">'long'</span><span class="token punctuation">,</span>
  year    <span class="token punctuation">:</span> <span class="token string">'numeric'</span><span class="token punctuation">,</span>
  month   <span class="token punctuation">:</span> <span class="token string">'short'</span><span class="token punctuation">,</span>
  day     <span class="token punctuation">:</span> <span class="token string">'numeric'</span><span class="token punctuation">,</span>
  hour    <span class="token punctuation">:</span><span class="token string">'2-digit'</span><span class="token punctuation">,</span>
  minute  <span class="token punctuation">:</span><span class="token string">'2-digit'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Украина</span>
<span class="token keyword keyword-let">let</span> localeUk <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token string">'Uk-uk'</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>localeUk<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// понеділок, 19 бер. 2018 р., 17:42</span>

<span class="token keyword keyword-let">let</span> localeUs <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token string">"en-US"</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>localeUs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Monday, Mar 19, 2018, 5:43 PM</span></code></pre><h4>Методы вывода без локализации</h4><p><code>toString</code>, <code>toDateString</code>, <code>toTimeString</code> dозвращают стандартное строчное представление, не заданное жёстко в стандарте, а зависящее от браузера. Единственное требование к нему – читаемость человеком. Метод <code>toString</code> возвращает дату целиком, <code>toDateString</code> и <code>toTimeString</code> – только дату и время соответственно.</p><h3>дополнительные материалы</h3><ul><li><a href="https://canonium.com/articles/javascript-date-and-time" target="_blank">Дата и время в JavaScript (перевод)</a></li><li><a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date на MDN</a></li><li><a href="https://momentjs.com/" target="_blank" rel="noopener">Moment.js - библиотека для работы с временем</a></li></ul></section></article><a href="http://fecore.net.ua/javascript/pages/theory/module-09-1.html#main-nav" class="to-page-nav"></a></div></body></html>