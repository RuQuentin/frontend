<!DOCTYPE html>
<!-- saved from url=(0061)http://fecore.net.ua/javascript/pages/theory/module-05-1.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Module 5</title><link rel="stylesheet" href="./Module 5_files/styles.min.css"><script async="" src="./Module 5_files/scripts.min.js.Без названия"></script></head><body class="theory-page"><div class="wrapper"><article><header><nav class="table-of-contents" id="main-nav"><ol class="page-nav" id="page-nav"><li><a href="http://fecore.net.ua/javascript/pages/theory/module-05-1.html#imp-vs-dec">Императивный и декларативный код</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-05-1.html#fn-arr-methods">Перебирающие методы массива</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-05-1.html#foreach">Array.forEach()</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-05-1.html#map">Array.map()</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-05-1.html#filter">Array.filter()</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-05-1.html#find">Array.find()</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-05-1.html#every-some">Array.every() и Array.some()</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-05-1.html#reduce">Array.reduce()</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-05-1.html#sort">Array.sort()</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-05-1.html#arr-chaining">Цепочки вызовов методов массива</a></li></ol></nav></header></article><section><h2 id="imp-vs-dec">Императивный и декларативный код</h2><p><strong>Императивное программирование</strong> - описывает процесс вычисления в виде заданной последовательности инструкций, изменяющих состояние программы. Описание того, как что-то выполянется.</p><p>В разговорном языке императивная форма используется для команд. Аналогичным образом, императивный стиль программирования - это тот, который дает компьютеру набор операторов для выполнения задачи.</p><p>Часто инструкции изменяют состояние программы, например, обновляют глобальные переменные. Классическим примером является запись цикла <code>for</code>, который дает точные указания для итерации по индексам массива.</p><p><strong>Декларативное программирование</strong> - описывает процесс каково нечто, а не как его создать. Порядок выполнения и способ достижения не важен. Это описание того, что мы хотим получить в результате.</p><p>Примером декларативного кода служит HTML, описывающий содержание страницы, а не способ её отображения на экране. Декларативное описание задачи более наглядно и легче формулируется, так как мы чаще знаем, чего хотим, но не знаем как сделать.</p><p>Мы говорим что хотим сделать, вызвав метод или функцию. Ее реализация может использовать императивный код, но он скрыт внутри и не усложняет понимание основного кода.</p><p>Рассмотрим разницу подходов на примере базовой операции над коллекцией.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// Императивный подход</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">double</span> <span class="token operator">=</span> arr <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> results <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-let">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    results<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-return">return</span> results<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><code>map</code> это функция которая скрывает в себе логику перебора коллекции и вызывает функцию которую мы ей передаем для каждого элемента. Сейчас нам не важна логика работы, лишь стиль написания кода.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// Декларативный подход</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">double</span> <span class="token operator">=</span> arr <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Сравним два решения:</p><ul><li><strong>Связность</strong> - в первом варианте логика перемешана с реализацией. Во втором реализация вынесена в отдельные методы, а в основном коде осталась только логика.</li><li><strong>Интерпретация</strong> - здесь простой пример, но можно придумать более сложные случаи получения и обработки данных, когда понять императивный код за несколько секунд не так просто.</li><li><code>Повторное использование кода</code> - функции можно легко использовать повторно.</li></ul><p><a href="https://tproger.ru/translations/imperative-declarative-programming-concepts/" target="_blank">Императивное и декларативное программирование (перевод)</a></p><h3>Чистые функции</h3><p><strong>Иммутабельность (неизменность)</strong> - очень важная тема в современном JavaScript. Неизменяемые данные тесно связаны с функциональным подходом, когда любая мутация считается нежелательным побочным эффектом.</p><p>То есть иммутабельность это подход при котором мы не изменяем исходные данные а создаем новые данные на основе исходных.</p><p><strong>Функция с побочными эффектами</strong> - функция, которая в процессе выполнения может модифицировать значения глобальных переменных, аргументы, осуществлять операции ввода-вывода и т. п.</p><p>Используем привычный императивный подход и напишем функцию умножающую каждый элемент массива на <code>2</code>. Эта функция будет мутировать исходный массив.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">dirtyDoubleFn</span> <span class="token operator">=</span> arr <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-let">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> max <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">dirtyDoubleFn</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Произошла мутация исходных данных</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 4, 6]</span></code></pre><p><strong>Чистые функции</strong> - те, которые при одинаковых аргументах всегда возвращают один и тот же результат, и не имеют видимых побочных эффектов. Использование чистых функций не изменяет состояния программы (не имеет побочных эффектов).</p><p>Теперь напишем чистую реализацию функции умножения элементов массива. Эта функция будет чистой, возвращая новый массив, не мутируя исходный.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">pureDoubleFn</span> <span class="token operator">=</span> arr <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-let">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> max <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-return">return</span> newArr<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> doubledNumbers <span class="token operator">=</span> <span class="token function">pureDoubleFn</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Не произошло мутации исходных данных</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>
<span class="token comment">// Функция вернула новый массив с измененными данными</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doubledNumbers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 4, 6]</span></code></pre><p><a href="https://medium.com/dailyjs/the-state-of-immutability-169d2cd11310" target="_blank" rel="noopener">The State of Immutability</a></p></section><section><h2 id="fn-arr-methods">Перебирающие методы массива</h2><p>В JavaScript есть методы массивов пришедшие из функциональных языков. Они получают исходный массив, создают новый пустой массив и заполняют его, применяя к копии значения каждого элемента указанную callback-функцию.</p><p><strong>Функция высшего порядка</strong> - функция, принимающая в качестве аргументов другие функции или возвращающая другую функцию в качестве результата. Основная идея в том, что функции имеют тот же статус, что и другие типы данных.</p><p>Все функциональные методы массивов имеют схожий синтаксис. Исходный массив <code>array</code>, вызов метода <code>method</code> и callback-функция <code>callback</code> в качестве аргумента метода.</p><pre class=" language-javascript"><code class=" language-javascript">array<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>callback<span class="token punctuation">[</span>currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>В большинстве методов, аргументами callback-функции являются значение элемента <code>currentValue</code>(первый параметр), позиция элемента <code>index</code> (второй параметр) и сам исходный массив <code>array</code> (третий параметр).</p><pre class=" language-javascript"><code class=" language-javascript">array<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> idx<span class="token punctuation">,</span> arr<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token comment">// логика которая будет применяться на каждой итерации</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Все параметры кроме значения элемента <code>item</code> необязательные. Названия параметров могут быть любые, но есть неофициальные соглашения.</p><pre class=" language-javascript"><code class=" language-javascript">array<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token comment">// логика которая будет применяться на каждой итерации</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section><h2 id="foreach">Array.forEach()</h2><p>Единственный из функциональных методов который ничего <strong>не возвращает</strong>, используется для <strong>перебора</strong> коллекции. Используется как замена цикла <code>for</code>.</p><pre class=" language-javascript"><code class=" language-javascript">array<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>callback<span class="token punctuation">[</span>currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><strong>Перебирает</strong></li><li><strong>Может изменять</strong></li><li><strong>Не возвращает</strong></li></ul><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

 <span class="token comment">// Классический for</span>
 <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-let">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numbers<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token comment">// Функциональный forEach</span>
 numbers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>num <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">// Указываем параметр idx если нужен доступ к счетчику</span>
 numbers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>
   <span class="token punctuation">(</span>num<span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`index </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>idx<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, value </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>num<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Код более декларативный, читабельный, поддерживаемый. Поэтому дальнейшее использование цикла <code>for</code> при выполнении домашних работ <code>не рекомендуется</code>.</p><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank"><strong>Array.forEach на MDN</strong></a></p><h3>Прерывание цикла</h3><p>Единственным местом где все еще необходимо использовать цикл <code>for</code>, это задача с прерыванием выполнения цикла, <code>forEach</code> прервать инструкцией <code>break</code> нельзя. Прочитайте <a href="https://thejsguy.com/2016/07/30/javascript-for-loop-vs-array-foreach.html" target="_blank"><strong>эту статью</strong> </a>для более детального сравнения <code>for</code> и <code>forEach</code>.</p></section><section><h2 id="map">Array.map()</h2><p>Используется для транформации массива. Применяет callback-функцию к каждому элементу исходного массива, результат работы callback-функции записывает в новый массив, который и будет результатом выполнения метода. Исходный и новый массив всегда имеют одинаковую длину. Не мутирует иходный массив.</p><pre class=" language-javascript"><code class=" language-javascript">array<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>callback<span class="token punctuation">[</span>currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><strong>Используется для трансформации массива</strong></li><li><strong>Перебирает</strong></li><li><strong>Не изменяет</strong></li><li><strong>Возвращает коллекцию</strong></li></ul><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

 <span class="token keyword keyword-const">const</span> doubledNumbers <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>num <span class="token operator">=&gt;</span> num <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doubledNumbers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 4, 6]</span></code></pre><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank"><strong>Array.map на MDN</strong></a></p><p>Используем <code>map</code> чтобы пройти по базе данных <code>users</code> и изменить статус <code>isActive</code> на <code>false</code> пользователям которые не были онлайн в нашей соцсети более чем неделю <code>daysInactive</code>, и наоборот.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>
   <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mango"</span><span class="token punctuation">,</span> daysInactive<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> isActive<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Poly"</span><span class="token punctuation">,</span> daysInactive<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> isActive<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Ajax"</span><span class="token punctuation">,</span> daysInactive<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span> isActive<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
 <span class="token punctuation">]</span><span class="token punctuation">;</span>

 <span class="token comment">// Для каждого элемента коллекции (user) проверим</span>
 <span class="token comment">// поле daysInactive, если больше 7, то возвращаем</span>
 <span class="token comment">// новый объект, распылив в него текущий user</span>
 <span class="token comment">// и обновив поле isAcive на false (не активный),</span>
 <span class="token comment">// и наоборот если меньше 7 то поле isActive</span>
 <span class="token comment">// записываем true (активный)</span>
 <span class="token comment">// На выходе получаем новую коллекцию с</span>
 <span class="token comment">// актуальными данными</span>
 <span class="token keyword keyword-const">const</span> updatedUsers <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>user <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token operator">...</span>user<span class="token punctuation">,</span>
   isActive<span class="token punctuation">:</span> user<span class="token punctuation">.</span>daysInactive <span class="token operator">&lt;</span> <span class="token number">7</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>updatedUsers<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section><h2 id="filter">Array.filter()</h2><p>Применяет callback-функцию к каждому элементу исходного массива и если результат ее выполнения имеет значение <code>true</code>, то копирует значение из исходного массива в новый массив. Исходный и новый массив могут иметь разную длину. Не мутирует иходный массив. Всегда возвращает массив, даже если в нем всего 1 элемент. Если ничего не найдено, вернет пустой массив. Используется когда необходимо найти более одного элемента в коллекции.</p><pre class=" language-javascript"><code class=" language-javascript">array<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>callback<span class="token punctuation">[</span>currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><strong>Используется для фильтрации массива</strong></li><li><strong>Перебирает</strong></li><li><strong>Не изменяет</strong></li><li><strong>Возвращает коллекцию</strong></li></ul><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>num <span class="token operator">=&gt;</span> num <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [6, 7, 8, 9]</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>num <span class="token operator">=&gt;</span> num <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 1, 2, 3, 4]</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>num <span class="token operator">=&gt;</span> num <span class="token operator">===</span> <span class="token number">5</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [5]</span></code></pre><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank"><strong>Array.filter на MDN</strong></a></p><p>Используем <code>filter</code> чтобы пройти по базе данных <code>users</code> и выбрать активных и неактивных пользователей по значению свойства <code>isActive</code>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mango"</span><span class="token punctuation">,</span> isActive<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Poly"</span><span class="token punctuation">,</span> isActive<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Ajax"</span><span class="token punctuation">,</span> isActive<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Chelsey"</span><span class="token punctuation">,</span> isActive<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// Для каждого элемента коллекции (user) проверим</span>
  <span class="token comment">// поле isActive. Если оно true, то</span>
  <span class="token comment">// текущий элемент (user) будет записан</span>
  <span class="token comment">// в результирующий массив.</span>
  <span class="token keyword keyword-const">const</span> activeUsers <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>user <span class="token operator">=&gt;</span> user<span class="token punctuation">.</span>isActive<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>activeUsers<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Для каждого элемента коллекции (user) проверим</span>
  <span class="token comment">// поле isActive. Если оно false, то</span>
  <span class="token comment">// текущий элемент (user) будет записан</span>
  <span class="token comment">// в результирующий массив.</span>
  <span class="token keyword keyword-const">const</span> inactiveUsers <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>user <span class="token operator">=&gt;</span> <span class="token operator">!</span>user<span class="token punctuation">.</span>isActive<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>inactiveUsers<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section><h2 id="find">Array.find()</h2><p>Что делать если нам нужно найти уникальный <code>id</code> пользователя среди 30000 обьектов, а среди 300000?</p><p>Первое что вы хотели бы сделать, это вызвать <code>filter</code>, пройти по коллекции и вернуть только того пользователя, <code>id</code> которого совпадет. Это работает, но какой ценой? Представьте что нужный нам объект пользователя стоит под индексом 2 в массиве. Какой смысл фильтровать все остальное? Мы теряем производительность из-за лишних операций.</p><p>Для таких случаев есть метод <code>find</code>, который будет искать до первого совпадения, после чего прервет свое выполнение.</p><p>Применяет callback-функцию к каждому элементу исходного массива и если результат ее выполнения имеет значение <code>true</code>, то возвращает этот элемент и завершает свое выполнение. Если ничего не найдено, вернет <code>undefined</code></p><pre class=" language-javascript"><code class=" language-javascript">array<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>callback<span class="token punctuation">[</span>currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><strong>Используется для поиска уникального элемента массива</strong></li><li><strong>Перебирает</strong></li><li><strong>Не изменяет</strong></li><li><strong>Возвращает элемент</strong></li></ul><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  numbers<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>num <span class="token operator">=&gt;</span> num <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  numbers<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>num <span class="token operator">=&gt;</span> num <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  numbers<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>num <span class="token operator">=&gt;</span> num <span class="token operator">===</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span></code></pre><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find" target="_blank"><strong>Array.find на MDN</strong></a></p><p>Используем <code>find</code> чтобы пройти по базе данных <code>users</code> и найти пользователя по идентификатору <code>id</code>. Идентификаторы всегда уникальны.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"000"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"Mango"</span><span class="token punctuation">,</span> isActive<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"001"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"Poly"</span><span class="token punctuation">,</span> isActive<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"002"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"Ajax"</span><span class="token punctuation">,</span> isActive<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"003"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"Chelsey"</span><span class="token punctuation">,</span> isActive<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Для каждого элемента коллекции (user) проверим</span>
<span class="token comment">// поле id. Если оно совпадает с искомым идентификатором, то</span>
<span class="token comment">// find прекратить дальнейшее выполнение и вернет текущий</span>
<span class="token comment">// элемент (user) как результат выполнения</span>
<span class="token keyword keyword-const">const</span> user <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>user <span class="token operator">=&gt;</span> user<span class="token punctuation">.</span>id <span class="token operator">===</span> <span class="token string">"002"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Создадим функцию которая будет возвращать нам пользователя по id</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">getUserById</span> <span class="token operator">=</span> <span class="token punctuation">(</span>arr<span class="token punctuation">,</span> id<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">getUserById</span><span class="token punctuation">(</span>users<span class="token punctuation">,</span> <span class="token string">"001"</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">getUserById</span><span class="token punctuation">(</span>users<span class="token punctuation">,</span> <span class="token string">"003"</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section><h2 id="every-some">Array.every() и Array.some()</h2><p>Метод <code>every</code> проверяет, прошли ли все элементы массива тест, предоставляемый callback-функцией. Возвращает <code>true</code>, если вызов callback-функции вернет <code>true</code> для каждого элемента в <code>array</code>.</p><pre class=" language-javascript"><code class=" language-javascript">array<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>callback<span class="token punctuation">[</span>currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Метод <code>some</code> проверяет, проходит ли по крайней мере один элемент в массиве тест, предоставляемый callback-функцией. Возвращает <code>true</code>, если вызов callback-функции вернет <code>true</code> хотябы для одного элемента в <code>array</code>.</p><pre class=" language-javascript"><code class=" language-javascript">array<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>callback<span class="token punctuation">[</span>currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><strong>Перебирает</strong></li><li><strong>Не изменяет</strong></li><li><strong>Возвращает <code>true</code> или <code>false</code></strong></li></ul><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// Функция которая проверяет величину значения,</span>
 <span class="token comment">// возвращает true или false.</span>
 <span class="token keyword keyword-const">const</span> <span class="token function-variable function">isBigEnough</span> <span class="token operator">=</span> val <span class="token operator">=&gt;</span> val <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">;</span>

 <span class="token comment">/*
   Допустим нам нужно узнать достаточно ли большие ВСЕ числа
   в коллекции. Все что нам нужно это буль true/false.

   Метод every вернет true только тогда, когда все элементы
   коллекции будут удовлетворять условию в callback-функции.
 */</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
   <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>isBigEnough<span class="token punctuation">)</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
   <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>isBigEnough<span class="token punctuation">)</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

 <span class="token comment">/*
   Допустим нам достаточно узнать ЕСТЬ ЛИ в коллекции числа
   больше 10, хотя бы одно или больше. Все что нам нужно это
   буль true/false.

   Метод some вернет true только тогда, когда хотябы 1 или
   более элементов коллекции будут удовлетворять условию
   в callback-функции.
 */</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
   <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>isBigEnough<span class="token punctuation">)</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
   <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>isBigEnough<span class="token punctuation">)</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every" target="_blank"><strong>Array.every на MDN</strong></a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some" target="_blank"><strong>Array.some на MDN</strong></a></li></ul></section><section><h2 id="reduce">Array.reduce()</h2><p>Аккумулирующая функция, используется для последовательной обработки каждого элемента массива с сохранением промежуточного результата.</p><p>Швейцарский нож функциональных методов массива. Возможно немного сложна в усвоении, но результат стоит того.</p><ul><li><strong>Перебирает</strong></li><li><strong>Не изменяет</strong></li><li><strong>Возвращает что угодно</strong></li></ul><pre class=" language-javascript"><code class=" language-javascript">array<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
    callback<span class="token punctuation">[</span>previousValue<span class="token punctuation">,</span> currentItem<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">]</span><span class="token punctuation">,</span>
    initialValue
  <span class="token punctuation">)</span></code></pre><ul><li><code>previousValue</code> - промежуточный результат (аккумулятор)</li><li><code>currentItem</code> - текущий элемент массива</li><li><code>index</code> - индекс текущего элемента массива</li><li><code>array</code> - оригинальный массив</li></ul><p>Легко представить ее работу на примере подсчета суммы значений массива. Если в качестве callback-функции задать сложение, то <code>reduce</code> вернет сумму всех значений массива.</p><p>Работает это так:</p><ol><li>Функция <code>reduce</code> создаст новую переменную, называемую аккумулятор. Затем присвоит аккумулятору значение текущего (первого) элемента массива <code>currentItem</code>.</li><li>Функция проверит - есть ли у массива следующий элемент и если он есть, то добавит значение к аккумулятору. Когда следующего элемента не окажется (конец массива), функция вернет значения аккумулятора.</li><li>Вторым аргументом <code>reduce</code> может быть начальное значение <code>initialValue</code>. Это значение будет присвоено аккумулятору до применения callback-функции к первому элементу массива.</li></ol><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> summ <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc <span class="token operator">+</span> value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>summ<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 15</span></code></pre><p>Допустим у нас есть следующая задача: из массива постов твиттера отдельного пользователя необходимо посчитать сумму всех лайков. Можно перебрать циклом <code>for</code> или <code>forEach</code>, каждое из этих решений потребует дополнительного кода. А можно использовать <code>reduce</code>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> tweets <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"000"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"js"</span><span class="token punctuation">,</span> <span class="token string">"nodejs"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"001"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"html"</span><span class="token punctuation">,</span> <span class="token string">"css"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"002"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">17</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"html"</span><span class="token punctuation">,</span> <span class="token string">"js"</span><span class="token punctuation">,</span> <span class="token string">"nodejs"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"003"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"css"</span><span class="token punctuation">,</span> <span class="token string">"react"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"004"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"js"</span><span class="token punctuation">,</span> <span class="token string">"nodejs"</span><span class="token punctuation">,</span> <span class="token string">"react"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// Пройдем по всем элементам коллекции и прибавим</span>
  <span class="token comment">// значения свойства likes к  аккумулятору,</span>
  <span class="token comment">// начальное значаение которого укажем 0.</span>
  <span class="token keyword keyword-const">const</span> likes <span class="token operator">=</span> tweets<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> tweet<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc <span class="token operator">+</span> tweet<span class="token punctuation">.</span>likes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>likes<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 32</span>

  <span class="token comment">// Наверное подсчет лайков не одиночная операция,</span>
  <span class="token comment">// поэтому напишем функцию для подсчета лайков из коллекции</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">countLikes</span> <span class="token operator">=</span> arr <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc <span class="token operator">+</span> x<span class="token punctuation">.</span>likes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token function">countLikes</span><span class="token punctuation">(</span>tweets<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 32</span></code></pre><p>Заметили свойство <code>tags</code> у каждого поста? Продолжая тему <code>reduce</code> мы соберем в массив все теги которые встречаются в постах.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> tweets <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"000"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"js"</span><span class="token punctuation">,</span> <span class="token string">"nodejs"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"001"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"html"</span><span class="token punctuation">,</span> <span class="token string">"css"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"002"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">17</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"html"</span><span class="token punctuation">,</span> <span class="token string">"js"</span><span class="token punctuation">,</span> <span class="token string">"nodejs"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"003"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"css"</span><span class="token punctuation">,</span> <span class="token string">"react"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"004"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"js"</span><span class="token punctuation">,</span> <span class="token string">"nodejs"</span><span class="token punctuation">,</span> <span class="token string">"react"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// Пройдем по всем элементам коллекции и добавим</span>
  <span class="token comment">// значения свойства tags к  аккумулятору,</span>
  <span class="token comment">// начальное значаение которого укажем пустым массивом [].</span>
  <span class="token comment">// Если tweet.tags есть, то конкатенируем его</span>
  <span class="token comment">// с текущим аккумулятором и возвращаем результат.</span>
  <span class="token comment">// Если поля tags нету, то возвращаем текущий аккумулятор.</span>
  <span class="token keyword keyword-const">const</span> tags <span class="token operator">=</span> tweets<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span>acc<span class="token punctuation">,</span> tweet<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> tweet<span class="token punctuation">.</span>tags <span class="token operator">?</span> acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>tweet<span class="token punctuation">.</span>tags<span class="token punctuation">)</span> <span class="token punctuation">:</span> acc<span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tags<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Наверное сбор тегов не одиночная операция,</span>
  <span class="token comment">// поэтому напишем функцию для сбора тегов из коллекции</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">getTags</span> <span class="token operator">=</span> arr <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span>acc<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>tags <span class="token operator">?</span> acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>tags<span class="token punctuation">)</span> <span class="token punctuation">:</span> acc<span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">getTags</span><span class="token punctuation">(</span>tweets<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>После того как мы собрали все теги из постов, хорошо бы было посчитать количество уникальных тегов в массиве. И снова <code>reduce</code> тут как тут.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> tweets <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"000"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"js"</span><span class="token punctuation">,</span> <span class="token string">"nodejs"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"001"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"html"</span><span class="token punctuation">,</span> <span class="token string">"css"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"002"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">17</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"html"</span><span class="token punctuation">,</span> <span class="token string">"js"</span><span class="token punctuation">,</span> <span class="token string">"nodejs"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"003"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"css"</span><span class="token punctuation">,</span> <span class="token string">"react"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"004"</span><span class="token punctuation">,</span> likes<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> tags<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"js"</span><span class="token punctuation">,</span> <span class="token string">"nodejs"</span><span class="token punctuation">,</span> <span class="token string">"react"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">getTags</span> <span class="token operator">=</span> arr <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span>acc<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>tags <span class="token operator">?</span> acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>tags<span class="token punctuation">)</span> <span class="token punctuation">:</span> acc<span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> tags <span class="token operator">=</span> <span class="token function">getTags</span><span class="token punctuation">(</span>tweets<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Вынесем callback-функцию отдельно,</span>
  <span class="token comment">// а в reducе передадим ссылку на нее.</span>
  <span class="token comment">// Это стандартная практика если callback-функция</span>
  <span class="token comment">// довольно большая.</span>

  <span class="token comment">// Если в объекте-аккумуляторе acc нету своего</span>
  <span class="token comment">// свойства с ключем tag, то создаем его и</span>
  <span class="token comment">// записывает ему значение 0.</span>
  <span class="token comment">// В противном случае увеличиваем значение на 1.</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">getTagStats</span> <span class="token operator">=</span> <span class="token punctuation">(</span>acc<span class="token punctuation">,</span> tag<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span><span class="token punctuation">(</span><span class="token operator">!</span>acc<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      acc<span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    acc<span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> acc<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Начальное значение аккумулятора это пустой объект {}</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">countTags</span> <span class="token operator">=</span> arr <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>getTagStats<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> tagCount <span class="token operator">=</span> <span class="token function">countTags</span><span class="token punctuation">(</span>tags<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tagCount<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" target="_blank"><strong>Array.reduce на MDN</strong></a></li><li><a href="https://hackernoon.com/reduce-your-fears-about-array-reduce-629b334ab945" target="_blank"><strong>Reduce your fears about Array.reduce()</strong></a></li></ul></section><section><h2 id="sort">Array.sort()</h2><p>Позволяет сортировать элементы массива "на месте". Помимо возврата отсортированного массива метод <code>sort</code> также отсортирует массив, на котором он был вызван. По умолчанию метод <code>sort</code> сортирует, преобразуя элементы к строке.</p><ul><li><strong>Перебирает</strong></li><li><strong>Изменяет</strong></li><li><strong>Возвращает коллекцию</strong></li></ul><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Отсортирует по возрастанию</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  <span class="token string">"Before sort: "</span><span class="token punctuation">,</span> numbers
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 1, 4, 3, 5]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  <span class="token string">"After sort: "</span><span class="token punctuation">,</span> numbers<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4, 5]</span>

<span class="token keyword keyword-const">const</span> clients <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Mango"</span><span class="token punctuation">,</span> <span class="token string">"Ajax"</span><span class="token punctuation">,</span> <span class="token string">"Poly"</span><span class="token punctuation">,</span> <span class="token string">"Chelsey"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Отсортирует по алфавиту</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  <span class="token string">"Before sort: "</span><span class="token punctuation">,</span> clients
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["Mango", "Ajax", "Poly", "Chelsey"]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  <span class="token string">"After sort: "</span><span class="token punctuation">,</span> clients<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["Ajax", "Chelsey", "Mango", "Poly"]</span></code></pre><h3>Свой порядок сортировки</h3><p>Для указания своего порядка сортировки в метод <code>arr.sort(fn)</code> нужно передать функцию <code>fn</code> с двумя параметрами, которая сравнивает их.</p><p>Внутренний алгоритм функции сортировки умеет сортировать любые массивы. Но для этого ему нужно знать, как их сравнивать. Эту роль и выполняет <code>fn</code>.</p><p>Алгоритм сортировки, встроенный в JavaScript, будет передавать ей для сравнения элементы массива. Она должна возвращать:</p><ul><li>Положительное значение, если <code>a &gt; b</code></li><li>Отрицательное значение, если <code>a &lt; b</code></li><li>Если равны – можно <code>0</code>, но вообще – не важно, что возвращать, если их взаимный порядок не имеет значения.</li></ul><p>Отсортируем массив наших пользователей по возрастанию дней онлайн активности.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mango"</span><span class="token punctuation">,</span> daysActive<span class="token punctuation">:</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Poly"</span><span class="token punctuation">,</span> daysActive<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Ajax"</span><span class="token punctuation">,</span> daysActive<span class="token punctuation">:</span> <span class="token number">27</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Chelsey"</span><span class="token punctuation">,</span> daysActive<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">sortByActiveDays</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>daysActive <span class="token operator">-</span> b<span class="token punctuation">.</span>daysActive<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  users<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>sortByActiveDays<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" target="_blank"><strong>Array.sort на MDN</strong></a></p></section><section><h2 id="arr-chaining">Цепочки вызовов методов массива</h2><p>Начнем с простого примера. Есть массив чисел, из него необходимо взять все четные и умножить на 2, после чего еще и развернуть массив. Выразим кодом решение так как мы уже умеем это делать.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> even <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> doubled <span class="token operator">=</span> even<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> reversed <span class="token operator">=</span> doubled<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reversed<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Вариант решения выше неплох. Проблема в том, что у нас появляются промежуточные переменные после каждой операции. Избавиться от них можно используя цепочки вызовов методов.</p><p>Функциональные методы массива можно группировать в цепочки. Каждый следующий метод будет выполняться на результате работы предыдущего.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">/*
  Фильтруем четные, после чего на результате метода filter
  вызываем map и множим на 2, после чего на результате
  метода map вызываем reverse.
*/</span>
<span class="token keyword keyword-const">const</span> result <span class="token operator">=</span> numbers
  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><a href="http://fecore.net.ua/javascript/pages/theory/module-05-1.html#main-nav" class="to-page-nav"></a></div></body></html>