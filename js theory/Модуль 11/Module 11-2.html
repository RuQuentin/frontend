<!DOCTYPE html>
<!-- saved from url=(0061)http://fecore.net.ua/javascript/pages/theory/module-11-2.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Module 11</title><link rel="stylesheet" href="./Module 11-2_files/styles.min.css"><script async="" src="./Module 11-2_files/scripts.min.js.Без названия"></script></head><body class="theory-page"><div class="wrapper"><article><header><nav class="table-of-contents" id="main-nav"><ol class="page-nav" id="page-nav"><li><a href="http://fecore.net.ua/javascript/pages/theory/module-11-2.html#intro">Введение</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-11-2.html#basics-methods">Создание и методы</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-11-2.html#str-methods">Методы строк</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-11-2.html#anchors">Якоря</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-11-2.html#flags">Флаги</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-11-2.html#classes">Классы</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-11-2.html#set-range">Набор и диапазон</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-11-2.html#quantifiers">Квантификаторы</a></li><li><a href="http://fecore.net.ua/javascript/pages/theory/module-11-2.html#resourses">Дополнительные материалы</a></li></ol></nav></header><section><h2 id="intro">Введение</h2><p><strong>Регулярные выражения (РВ)</strong> - это особый язык для работы со строками с помощью шаблонов. Способ найти определенные паттерны в строке и, если необходимо, выполнить замену подстроки.</p><p>Синтаксис <strong>РВ</strong> отличается от всего что мы уже изучали, что делает его непривычным. Но стоит немного разобраться в основах, и время, потраченное на изучение <strong>РВ</strong>, с лихвой окупится, по сравнению с использованием методов обработки строк при сложных задачах.</p><p>Единственным серьезным недостатком <strong>РВ</strong> является сложность тестирования их правильной работы, т.к. сложность кода увеличивает количество необходимых комбинаций которые необходимо проверить. Поэтому нормальная практика это использование готовых решений и переход на методы работы со строками в особо сложных случаях.</p><ul><li><a href="http://www.exlab.net/tools/sheets/regexp.html" target="_blank" rel="noopener">Шпаргалка по регулярным выражениям</a></li><li><a href="http://html5pattern.com/" target="_blank">Справочник регулярных выражений</a></li><li><a href="https://regex101.com/" target="_blank">Сервис для проверки и отладки regex</a></li></ul></section><section><h2 id="basics-methods">Создание и методы</h2><p><strong>Паттерн (шаблон)</strong> - основа регулярного выражения по которому будет осуществляться поиск.</p><p>Регурярные выражения встроены в JavaScript и создаются используя литерал регулярного выражения <code>//</code> или вызовом конструктора <code>new RegExp()</code>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// создаем паттерн с использованием литерала</span>
<span class="token keyword keyword-const">const</span> regA <span class="token operator">=</span> <span class="token regex">/hello/</span><span class="token punctuation">;</span>

<span class="token comment">// создаем паттерн с использованием конструктора</span>
<span class="token keyword keyword-const">const</span> regB <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3>Методы паттерна</h3><p>Для поиска точного соответствия объект <code>RegExp</code> имеет встроенный метод <code>test</code>, производящий поиск подстроки и возвращающий <code>true</code> или <code>false</code>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token string">'The quick brown fox jumps over the lazy dog'</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> patternA <span class="token operator">=</span> <span class="token regex">/quick/</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> patternB <span class="token operator">=</span> <span class="token regex">/qwerty/</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Результат: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>patternA<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Результат: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>patternB<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></code></pre><p>Следующим рассмотрим метод <code>exec</code>, который также ищет подстроку совпадающую с шаблоном, но результатом своего выполнения вернет совпавшую подстроку или <code>null</code>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token string">'The quick brown fox jumps over the lazy dog'</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> patternA <span class="token operator">=</span> <span class="token regex">/quick/</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> patternB <span class="token operator">=</span> <span class="token regex">/qwerty/</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Результат: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>patternA<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// quick</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Результат: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>patternB<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span></code></pre></section><section><h2 id="str-methods">Методы строк</h2><p>Методы для поиска по регулярным выражениям встроены прямо в строки.</p><h3>search</h3><p>Выполняет поиск в строке на основе паттерна и возвращает индекс первого совпадения. Если совпадения нет, то метод вернет <strong>-1</strong>. Всегда ищет только первое совпадение.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token string">`The quick brown fox jumps over the lazy dog`</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> patternA <span class="token operator">=</span> <span class="token regex">/quick/</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> patternB <span class="token operator">=</span> <span class="token regex">/qwerty/</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span> <span class="token punctuation">(</span>
  <span class="token template-string"><span class="token string">`str.search(patternA) : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>patternA<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>

console<span class="token punctuation">.</span><span class="token function">log</span> <span class="token punctuation">(</span>
  <span class="token template-string"><span class="token string">`str.search(patternB) : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>patternB<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1</span></code></pre><h3>match</h3><p>Ищет совпадение и возвращает первое совпадение, или, если регулярное выражение содержит флаг <code>g</code>, массив всех совпадений.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token string">`The quick brown fox jumps over the quick lazy dog`</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/quick/g</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span> <span class="token punctuation">(</span>
  <span class="token template-string"><span class="token string">`str.match(pattern) : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["quick", "quick"]</span></code></pre><h3>replace</h3><p>Метод replace возвращает новую строку в которой произошла замена паттерна на строку-заменитель.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token string">`The quick brown fox jumps over the lazy dog`</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/brown/</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span> <span class="token punctuation">(</span>
  <span class="token template-string"><span class="token string">`str.replace(pattern, 'red') : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// The quick red fox jumps over the lazy dog</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'14-21-57'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> <span class="token regex">/-/g</span><span class="token punctuation">,</span> <span class="token string">":"</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 14:21:57</span></code></pre><h3>split</h3><p>Метод split разбивает строку на массив строк путём разделения строки заданной подстрокой. Имеет необязательный параметр <strong>separator</strong> который указывает символы, используемые в качестве разделителя внутри строки. С помощью необязательного параметра <strong>limit</strong> можно задать максимальное число элементов, которое вернет метод <strong>split</strong> - т.е. limit "обрежет" лишние найденные элементы массива.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token string">`1758-1982-7841-2275`</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/-/g</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span> <span class="token punctuation">(</span>
  <span class="token template-string"><span class="token string">`str.split(pattern) : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1758, 1982, 7841, 2275]</span>

console<span class="token punctuation">.</span><span class="token function">log</span> <span class="token punctuation">(</span>
  <span class="token template-string"><span class="token string">`str.split(pattern) : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1758, 1982]</span></code></pre></section><section><h2 id="achors">Якоря</h2><p>Знак каретки <code>^</code> и доллара <code>$</code> называются якорями и имеют особый смысл. Якоря это не символы подстроки, а спецсимволы проверки.</p><p>Каретку <code>^</code> используют чтобы указать, что строка должна начинаться на указанный паттерн.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> strA <span class="token operator">=</span> <span class="token string">'quick brown fox'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> strB <span class="token operator">=</span> <span class="token string">'the quick brown fox'</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/^quick/</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Результат: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>strA<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Результат: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>strB<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></code></pre><p>Знак доллара <code>$</code> используют чтобы указать, что строка должна заканчиваться на указанный паттерн.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> strA <span class="token operator">=</span> <span class="token string">'brown fox quick'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> strB <span class="token operator">=</span> <span class="token string">'the quick brown fox'</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/quick$/</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Результат: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>strA<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Результат: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>strB<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></code></pre><p>Оба якоря используют одновременно, если требуется, чтобы шаблон охватывал подстроку с начала и до конца.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> strA <span class="token operator">=</span> <span class="token string">'brown fox quick'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> strB <span class="token operator">=</span> <span class="token string">'quick'</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/^quick$/</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Результат: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>strA<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Результат: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>strB<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre></section><section><h2 id="flags">Флаги</h2><p><strong>Флаги</strong> - специальные символы размещаемые сразу за литералом.</p><table><tbody><tr><th>Флаг</th><th>Поведение</th></tr><tr><td><code>i</code></td><td>поиск с игнорированием регистра</td></tr><tr><td><code>g</code></td><td>поиск всех совпадений, а не только первого</td></tr><tr><td><code>m</code></td><td>поиск в многострочном режиме</td></tr></tbody></table><h3>Флаг i</h3><p>Если этот флаг есть, то <strong>РВ</strong> ищет независимо от регистра, то есть не различает между <strong>А</strong> и <strong>а</strong>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// строка для поиска</span>
<span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token string">'The quICK The quiCk The quIcK'</span><span class="token punctuation">;</span>

<span class="token comment">// флаг i игнорирует регистр</span>
<span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/quick/i</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`result: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'quICK'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Используется флаг i?: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pattern<span class="token punctuation">.</span>ignoreCase<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><h3>Флаг g</h3><p>Если этот флаг есть, то <strong>РВ</strong> ищет все совпадения, иначе – только первое.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// строка для поиска</span>
<span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token string">'The quick The quick The quick'</span><span class="token punctuation">;</span>

<span class="token comment">// флаг g не прекращает поиск после первого совпадения</span>
<span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/quick/g</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`result: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['quick', 'quick', 'quick']</span>
console<span class="token punctuation">.</span><span class="token function">log</span> <span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Используется флаг g?: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pattern<span class="token punctuation">.</span>global<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true     </span></code></pre></section><section><h2 id="classes">Классы</h2><p>Вместо конкретной подстроки можно использовать символы, описывающие любую букву, пробел или цифру. Такие сочетания символов, под которое подходит любой символ из определённого набора, называются <strong>классами</strong>.</p><p>Для выделения классов используют обратный слэш перед определенным знаком. Например класс цифр обозначают буквой <code>d</code> и обратным слэшем <code>\d</code>, таким образом патерн <code>/\d/</code> ищет ровно одну цифру.</p><table><tbody><tr><th>Сочетание</th><th>Описание</th></tr><tr><td><code>\d</code></td><td>Цифра от 0 до 9</td></tr><tr><td><code>\D</code></td><td>НЕ цифра, любой символ кроме 0 ... 9</td></tr><tr><td><code>\s</code></td><td>Любой пробельный символ (перевод строки, tab)</td></tr><tr><td><code>\S</code></td><td>Любой НЕ пробельный символ</td></tr><tr><td><code>\w</code></td><td>Буквы только латинского алфавита, нижнее подчеркивание <strong>_</strong> и цифры</td></tr><tr><td><code>\W</code></td><td>НЕ буквы латинского алфавита, НЕ нижнее подчеркивание <strong>_</strong> и НЕ цифры</td></tr><tr><td><code>\b</code></td><td>Слово, символ \w (или символы), окруженные пробельными символами \s</td></tr><tr><td><code>\B</code></td><td>НЕ слово</td></tr></tbody></table><div class="note"><p>Пробел - это такой же символ как и остальные, учитывайте это при составлении паттерна. Точка <code>.</code> обозначает любой символ, но не отсутствие символа. Если необходимо найти именно точку, то надо применить экранирование <code>\.</code></p></div><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token string">"+7(903)-123-45-67"</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/\d/</span><span class="token punctuation">;</span>

<span class="token comment">// не глобальный регэксп, поэтому ищет только первую цифру</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span></code></pre><p>Для поиска всех цифр достаточно добавить флаг <code>g</code>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token string">"+7(903)-123-45-67"</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/\d/g</span><span class="token punctuation">;</span>

<span class="token comment">// не глобальный регэксп, поэтому ищет только первую цифру</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [7, 9, 0, 3, 1, 2, 3, 4, 5, 6, 7]</span></code></pre><p>Ищем стоящие подряд букву, пробел и цифру.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token string">'The quick 3bRown fox jumps 2over the lazy 1dog'</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> patternA <span class="token operator">=</span> <span class="token regex">/\w\s\d/ig</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span> <span class="token punctuation">(</span><span class="token template-string"><span class="token string">`result: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["k 3", "s 2", "y 1"]</span></code></pre><p>Ищем 3 подряд стоящие цифры.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token string">"+7(903)-123-45-67"</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/\d\d\d/g</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span> <span class="token punctuation">(</span><span class="token template-string"><span class="token string">`result: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [903, 123]</span></code></pre></section><section><h2 id="set-range">Набор и диапазон</h2><p>Часто нужно найти слово, в котором одна из букв может быть записана через разные буквы - "елка" или "ёлка". Такой набор символов, когда подходит только один символ из группы, описывают квадратными скобками: <code>/[её]лка/</code>. При использовании квадратных скобок экранирование для точки или обратного слэша не нужно.</p><p>Если нужно найти строку, описывающую время, то для старшего разряда часов подойдет набор цифр <code>[012]</code>, а для старшего разряда минут <code>[012345]</code>, что не очень удобно на практике.</p><p>В подобных случаях используют символ диапазона <code>-</code>, т.е. для описания старшего разряда часов подойдет запись <code>[0-2]</code>, а для старшего разряда минут <code>[0-5]</code>. Аналогично найти все буквы кириллицы можно записью <code>[А-яёЁ]</code> или используя флаг <code>/[а-яё]/i</code> .</p><div class="note"><p>Регулярные выражения осуществляют поиск по номеру символа в юникоде, где наименьшим числом описывают букву <strong>А</strong> и наибольшим <strong>я</strong>, а буквы <strong>Ё</strong> и <strong>ё</strong> выпадают из диапазона.</p></div><p>Исключение символа или набора симоволов можно задать с помощью <code>^</code>. Исключение ведет себя по разному внутри группы и вне ее. Внутри группы это исключение, а вне группы это указатель на начало строки.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> str <span class="token operator">=</span> <span class="token string">"У нас новая ёлка, мне очень нравится елка."</span>
<span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/[её]лка/ig</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`result: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ёлка, елка]</span></code></pre></section><section><h2 id="quantifiers">Квантификаторы</h2><p>Удобным функционалом регулярных выражений являются указатели количества, к примеру для проверки верного формата ввода телефонного номера. Квантифкатор должен стоять сразу за символом или дипапазоном символов.</p><p>С помощью фигурных скобок можно задать количество символов, которые необходимо найти, например надо найти 4 цифры подряд:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/\d{4}/</span><span class="token punctuation">;</span></code></pre><p>Также можно задать диапазон, например запись от 2-х до 5-ти цифр.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/\d{2,5}/</span></code></pre><p>Если не указать последнее число, то запись будет читать "от числа и выше", например "от 16 и больше":</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword keyword-const">const</span> pattern <span class="token operator">=</span> <span class="token regex">/\d{16,}/</span><span class="token punctuation">;</span></code></pre><p>Сивол <code>+</code> это краткая запись для <strong>"один или более"</strong>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// запись</span>
<span class="token keyword keyword-const">const</span> patternA <span class="token operator">=</span> <span class="token regex">/\d+/</span><span class="token punctuation">;</span>

<span class="token comment">// аналогична</span>
<span class="token keyword keyword-const">const</span> patternB <span class="token operator">=</span> <span class="token regex">/\d{1,}/</span><span class="token punctuation">;</span></code></pre><p>Сивол <code>?</code> это краткая запись для <strong>"ноль или один"</strong>. Т.е. запись <code>/\d?/</code> это то же что и <code>/\d{0,1}/</code>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// запись</span>
<span class="token keyword keyword-const">const</span> patternA <span class="token operator">=</span> <span class="token regex">/\d?/</span><span class="token punctuation">;</span>

<span class="token comment">// аналогична</span>
<span class="token keyword keyword-const">const</span> patternB <span class="token operator">=</span> <span class="token regex">/\d{0,1}/</span><span class="token punctuation">;</span></code></pre><p>Сивол <code>*</code> это краткая запись для <code>"ноль или более"</code>.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// запись</span>
<span class="token keyword keyword-const">const</span> patternA <span class="token operator">=</span> <span class="token regex">/\d*/</span><span class="token punctuation">;</span>

<span class="token comment">// аналогична</span>
<span class="token keyword keyword-const">const</span> patternB <span class="token operator">=</span> <span class="token operator">/</span>\d<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></section><section><h2 id="resourses">Дополнительные материалы</h2><ul><li><a href="https://youtu.be/0LKdKixl5Ug?list=PL55RiY5tL51ryV3MhCbH8bLl7O_RZGUUE" target="_blank" rel="noopener">Regular Expressions Demystified (курс от Academind)</a></li><li><a href="https://tutorialzine.com/2014/12/learn-regular-expressions-in-20-minutes" target="_blank">Learn Regular Expressions in 20 Minutes</a></li><li><a href="https://code.tutsplus.com/tutorials/8-regular-expressions-you-should-know--net-6149" target="_blank" rel="noopener">8 Regular Expressions You Should Know</a></li><li><a href="https://css-tricks.com/form-validation-part-1-constraint-validation-html/" target="_blank" rel="noopener">Form Validation Series</a></li><li><a href="http://parsleyjs.org/" target="_blank" rel="noopener">Parsley, the ultimate JavaScript form validation library</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank">Регулярные выражения на MDN</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Form_validation" target="_blank">Form data validation (MDN)</a></li></ul></section></article><a href="http://fecore.net.ua/javascript/pages/theory/module-11-2.html#main-nav" class="to-page-nav"></a></div></body></html>